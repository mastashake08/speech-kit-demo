(function(e){function t(t){for(var o,r,c=t[0],a=t[1],l=t[2],u=0,d=[];u<c.length;u++)r=c[u],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&d.push(n[r][0]),n[r]=0;for(o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o]);h&&h(t);while(d.length)d.shift()();return s.push.apply(s,l||[]),i()}function i(){for(var e,t=0;t<s.length;t++){for(var i=s[t],o=!0,c=1;c<i.length;c++){var a=i[c];0!==n[a]&&(o=!1)}o&&(s.splice(t--,1),e=r(r.s=i[0]))}return e}var o={},n={app:0},s=[];function r(t){if(o[t])return o[t].exports;var i=o[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=o,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(i,o,function(t){return e[t]}.bind(null,o));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/speech-kit-demo/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],a=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var h=a;s.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"56d7":function(e,t,i){"use strict";i.r(t);var o=i("2b0e"),n=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("img",{attrs:{alt:"SpeechKit logo",src:"https://github.com/mastashake08/speech-kit/blob/main/cover.png?raw=true",width:"100%",height:"500"}}),t("HelloWorld",{attrs:{msg:"SpeechKit Demo"}})],1)},s=[],r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"hello"},[t("h1",[e._v(e._s(e.msg))]),e._m(0),t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.voiceText,expression:"voiceText"}],domProps:{value:e.voiceText},on:{change:e.generateSSML,input:function(t){t.target.composing||(e.voiceText=t.target.value)}}}),e._v(" "),t("p",[t("span",[e._v(e._s(e.voiceSSML))])]),t("ul",[t("select",{attrs:{name:"voices",id:"voice-select"},domProps:{value:e.selectedIndex},on:{change:function(t){return e.setVoice(t)}}},[t("option",{attrs:{disabled:"",value:"-1"}},[e._v("Select Voice")]),e._l(e.voices,(function(i,o){return t("option",{key:o,domProps:{value:o}},[e._v(e._s(i.name)+" - "+e._s(i.lang))])}))],2)]),t("ul",[t("button",{on:{click:e.share}},[e._v("Share")]),e.isPlaying?t("button",{on:{click:e.shutup}},[e._v("Shut Up")]):t("button",{on:{click:e.speak}},[e._v("Speak")]),e.isListen?t("button",{on:{click:e.stopListen}},[e._v("Stop Listen")]):t("button",{on:{click:e.listen}},[e._v("Listen")]),t("button",{on:{click:e.addBreak}},[e._v("Add Break")])])])},c=[function(){var e=this,t=e._self._c;return t("p",[e._v(" Simple demo to demonstrate the Web Speech API using the "),t("a",{attrs:{href:"https://github.com/@mastashake08/speech-kit",target:"_blank",rel:"noopener"}},[e._v("SpeechKit npm package")]),e._v("! ")])}],a=i("43e4"),l={name:"HelloWorld",props:{msg:String},mounted(){this.sk=new a["a"]({continuous:!0,rate:.85}),setTimeout(()=>{this.voices=this.sk.getVoices(),this.selectedVoice=this.voices[0]},"1000"),this.generateSSML(),document.addEventListener("onspeechkitresult",e=>this.getText(e)),document.addEventListener("onspeechkitspeechend",()=>this.addPeriod()),document.addEventListener("onspeechkitsoundend",()=>this.addPeriod()),document.addEventListener("onspeechkitvoiceschanged",()=>{this.sk.getVoices()})},data(){return{voiceText:"Welcome to the SpeechKit demo hosted on Github Pages! To get started you can select a voice from the dropdown and click the speak button to hear these instructions. You can type text or hit the listen button to enable speech recognition and change the text in the textarea.\n\nIf you click the Generate SSML button, then your text will be converted to SSML format to export in other voice-powered applications such as Amazon Alexa Polly and Twilio.\n\nIf you select a portion of a sentence you want to pause on before speaking and then click the Add Break button, your text will be converted to SSML with a 200ms break before said sentence. More features are coming to edit SSML data in the future, for now, HAVE FUN!",sk:{},isListen:!1,voices:[],selectedVoice:{},selectedIndex:-1,isPlaying:!1,voiceSSML:null}},watch:{voiceText:function(){this.generateSSML()}},methods:{setVoice(e){this.selectedVoice=this.voices[e.target.value],this.selectedIndex=e.target.value,this.sk.setSpeechVoice(this.selectedVoice)},share(){const e=`Check out the SpeechKit Demo and speak this text! ${this.voiceText} ${document.URL}`;try{navigator.canShare?navigator.share({url:navigator.URL}):this.clipBoard(e)}catch(t){this.clipBoard(e)}},async clipBoard(e,t="text/plain"){const i=new Blob([e],{type:t}),o=[new window.ClipboardItem({[t]:i})];await navigator.clipboard.write(o),alert("Text copied to clipboard")},speak(){this.sk.speak(this.voiceSSML,this.selectedVoice),this.isPlaying=!this.isPlaying},shutup(){this.sk.shutup(),this.isPlaying=!this.isPlaying},listen(){this.sk.listen(),this.isListen=!this.isListen},stopListen(){this.sk.stopListen(),this.isListen=!this.isListen},getText(e){this.voiceText="";const t=e.detail.results;for(let i=0;i<t.length;++i)this.voiceText+=` ${t[i][0].transcript.charAt(1).toUpperCase()}${t[i][0].transcript.slice(2)}`,this.addPeriod()},generateSSML(){const e=this.sk.createSSML(this.voiceText);this.voiceSSML=e},addPeriod(){"."!==this.voiceText.charAt(this.voiceText.length-1)&&(this.voiceText=this.voiceText+".")},addBreak(){let e=window.getSelection();e.modify("move","backward","sentence"),e.modify("extend","forward","sentence"),this.voiceSSML=this.sk.addBreakSSML(this.voiceText,e.toString(),e.focusOffset)}}},h=l,u=(i("d9e0"),i("2877")),d=Object(u["a"])(h,r,c,!1,null,"805a6c1a",null),p=d.exports,v={name:"App",components:{HelloWorld:p}},f=v,g=(i("f5ef"),Object(u["a"])(f,n,s,!1,null,null,null)),m=g.exports;o["a"].config.productionTip=!1,new o["a"]({render:e=>e(m)}).$mount("#app")},b296:function(e,t,i){},cb1c:function(e,t,i){},d9e0:function(e,t,i){"use strict";i("cb1c")},f5ef:function(e,t,i){"use strict";i("b296")}});
//# sourceMappingURL=app.b18e9940.js.map